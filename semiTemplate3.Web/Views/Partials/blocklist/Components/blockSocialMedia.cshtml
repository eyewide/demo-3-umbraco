@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels
@using Umbraco.Cms.Core.Models

@{
    var content = (ContentModels.BlockSocialMedia)Model.Content;
    var settings = (ContentModels.GenericBlockSettings)Model.Settings;
    
    // Null-safe έλεγχος για απενεργοποίηση section
    var disableSection = settings?.Value<bool>("disableSection") ?? false;

    // Content variables με defaults
    var socialMediaTitle = content?.Value("socialMediaTitle")?.ToString() ?? string.Empty;
    var socialMediaLink = content?.Value<Link>("socialMediaLink");
    var socialMediaIcon = content?.Value<MediaWithCrops>("socialMediaIcon");
}

@if (!disableSection && socialMediaLink != null)
{
    <li>
        <a href="@socialMediaLink?.Url" aria-label="@socialMediaLink?.Name" target="@socialMediaLink?.Target">
            @if (socialMediaIcon != null)
            {
                <img src="@socialMediaIcon.Url()" alt="@socialMediaLink?.Name">
            }
            else
            {
                @* Fallback: εμφάνιση τίτλου αν δεν υπάρχει εικόνα *@
                @Html.Raw(socialMediaTitle)
            }
        </a>
    </li>
}