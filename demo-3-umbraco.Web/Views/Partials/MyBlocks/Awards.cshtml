@using Umbraco.Cms.Web.Common.PublishedModels
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@using Umbraco.Cms.Core.Models
@using Umbraco.Cms.Core.Models.Blocks;

@{
    var home = Model.AncestorOrSelf(1);
    var awards = home.Value<IEnumerable<BlockListItem>>("awards");
    var HeaderAwards = Umbraco.GetDictionaryValue("HeaderAwards")?.ToString();
}

<div class="awards mb-3">
    @if (!string.IsNullOrEmpty(HeaderAwards))
    {   
        <div class="h3-sm-header">
            @Html.Raw(HeaderAwards)
        </div>
    }
                
    @if (awards?.Count() > 2)
    {
        @Html.Raw("<div class=\"swiper awardsSwiper\">")
        @Html.Raw("<div class=\"swiper-wrapper\">")
    }
    else
    {
        @Html.Raw("<div class=\"mt-2 d-flex justify-content-start two-items\">")
    }

    @foreach (var block in awards ?? Enumerable.Empty<BlockListItem>())
    {
        var content = block.Content;
        <div class="@(awards?.Count() > 2 ? "swiper-slide" : "px-2 mb-4")">
            @await Html.PartialAsync("/Views/Partials/blocklist/Components/" + content.ContentType.Alias + ".cshtml", block)
        </div>
    }

    @if (awards?.Count() > 2)
    {
        @Html.Raw("</div>")
        @Html.Raw("<div class=\"swiper-pagination\"></div>")
        @Html.Raw("</div>")
    }
    else
    {
        @Html.Raw("</div>")
    }
</div>
